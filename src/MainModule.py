from PyQt5.QtWidgets import QGraphicsOpacityEffectfrom PyQt5.QtCore import QObject, QVariantAnimationclass RowFadeController(QObject):    def __init__(self, Widgets):        super().__init__()        self.Widgets = Widgets        self.Effects = []        for Widget in Widgets:            Effect = QGraphicsOpacityEffect(Widget, opacity=1.0)            Widget.setGraphicsEffect(Effect)            self.Effects.append(Effect)        self.Animation = QVariantAnimation(self)        self.Animation.setDuration(500)        self.Animation.setStartValue(1.0)        self.Animation.setEndValue(0.0)        self.Animation.valueChanged.connect(self.setOpacity)            def AnimationEnded(self):        if self.Animation.Direction == self.Animation.Forward:            for Widget in self.Widgets:                Widget.hide()                        for Widget in self.Widgets:            Widget.setGraphicsEffect(QGraphicsOpacityEffect(opacity=1.0))        if self.ReturnFunction:            self.ReturnFunction()    def toggle(self, FadeIn, ReturnFunction):        self.Animation.setDirection(        self.Animation.Forward if FadeIn else self.Animation.Backward                                    )        self.ReturnFunction = ReturnFunction        self.Animation.finished.connect(self.AnimationEnded)        self.Animation.start()    def setOpacity(self, Opacity):        for Effect in self.Effects:            Effect.setOpacity(Opacity)                